<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<title>Acquisition Video 4 Linux</title>
</head>

<body>
<p class="date">Date de modification : 10 décembre 2011</p>
<h1>Acquisition Vidéo (Linux)</h1>
<p>
Ce plugin va vous permettre de manipuler des videos sous linux.
Il a ete developpé dans l'idee de réaliser des occultations stellaires.
Quelques petits outils supplementaires, vont vous aider a obtenir
une courbe de lumiere, à extraire des images fits de vos videos, et
de dater chaque image grace a l'outil de reconnaissance de caracteres.





<h2><img src="../img/help.png" alt="" width="48" height="48" align="middle"> Aide</img></h2>
A chaque fois la bouée fera reference a cette page.





<h2><img src="../img/setup.png" alt="" width="48" height="48" align="middle"> Configuration</img></h2>
Il reste encore pas mal de variable a remonter dans l'outil de configuration.





<h2><img src="../img/acquisition.png" alt="" width="48" height="48" align="middle"> Acquisition</img></h2>

<p>Il faut choisir un repertoire de destination et un nom de fichier pour que l'appui sur le petit drapeau 
permette de demarrer l acquisition. 
<p>Avant cela, le bouton "Prendre 1 image" affiche une image dans la visu.
<p>Les info video ne sont pas encore renseignées.
<p>Le cadre photometrie recupere certaines statistiques sur l image, l'objet qui nous interesse et eventuellement
un objet de reference. Pour cela dessiner un cadre dans l image, et cliquez sur SELECT.
 

<h2><img src="../img/extraction.png" alt="" width="48" height="48" align="middle"> Extraction</img></h2>
L'extraction va convertir un avi en une multitude d'images fits. Cette etape n'est pas necessaire si 
vous utilisez les outils que propose av4l, puisqu'ils traitent aussi bien un avi qu'un liste d'images.

<p>On commence par l ouverture d'une video en cliquant sur les ...
<p>ce qui a l'effet d'ouvrir une fenetre de selection de fichier *.avi
<p>l'appui sur ouvrir a pour effet de charger la video. il n est donc pas necessaire d'appuyer sur "open".
<p> le bouton "open" ne sert que si on fait du copier/coller directement du chemin du fichier avi.
<p>Une fois la video chargée, vous avez a disposition une barre de defilement 
qui accede directement a n'importe quelle image.
<p>les boutons avance et retour font de l'image par image. les boutons rapides change par bloc de 100 images.
<p>Les boutons  setmin/setmax/crop vont permettre de s'interesser qu a une partie de la video.
 
<p>Le repertoire de destination est l'endroit où vont se retrouver toutes les images fits. 
<p>le prefixe est le nom du fichier qui precedera la numerotation. 
Il peut etre par exemple "i". ce qui aura pour consequence de fournir les images: i1.fits, i2.fits, etc...
<p>Le bouton extraction demarre le processus et rempli le repertoire d'images fits, jusqu a la fin de la video.


<h2><img src="../img/time.png" alt="" width="48" height="48" align="middle">Datation</img></h2>

On utilise dans cette partie la possibilité de recuperer la date incrustée dans une image.
a partir de maintenant on peut choisir d'utiliser une video avi, oubien une liste d'image.
On retrouve la partie chargement de la video, la barre de defilement, les bouton de navigtion ainsi
que le crop pour se restreindre a une partie de la video.
La datation peut se faire avec ou sans OCR (Reconnaissance optique de caractères).

<p>Sans OCR, il suffit de rentrer à la main quelques dates et de cliquer sur "Verifié", 
pour que le traitement en appuyant sur le bouton START en bas a gauche, interpole toutes les dates.

<p>Avec OCR, il faut cocher la case OCR. choisir le type d'incrustateur puis selectionner 
un cadre dans la visu autour de la date puis cliquer sur "SELECT"
comme on peut le voir sur cette image :
<p> 
<img src="../img/capture-av4l-visu.png" alt="" width="821" height="634" />
<p>
<img src="../img/capture-av4l-time-avi.png" alt="" width="735" height="599" />
<p>
On peut voir a cette etape que le bouton OCR s'inscrit en vert. cela veut dire que la reconnaissance
de caractere a fonctionné et qu elle a retourné une chaine de caractere sensée representer 
une date.

<p>
avant de commencer le processus en cliquant sur "START", il faut imperativement 
choisir 2 dates et les verfier visuellement et manuellement. (une en debut de video et une en fin)
puis il faut se mettre en debut de video sur une image qui a été verifiée.
si tout est OK vous pouvez cliquer sur START. ce qui demarre l'extraction de la date. 
si l'OCR ne fonctionne pas il apparaitra en rouge. dans ce cas le bouton "interpolé" vas apparaitre 
en vert.
<p>parfois le bouton "OCR" et "interpolé" apparaitront en vert. Dans ce cas l'algo a ramené une date
valide, mais la date a un probleme car elle presente un ecart trop grand. 
la valeur interpolé est donc choisie.

<p>A la fin du processus, vous pouvez verifier ce que l'algorithme a retenu. 
eventuellement ajoutez des points de verification en cas de problemes, puis relancer.

<p> Cet outil se termine en enregistrant la datation dans un fichier *.time dans le meme
repertoire que la video, ou des images fits.
ce fichier sera reutilisé par la suite.
 

<h2><img src="../img/cdl.png" alt="" width="48" height="48" align="middle"> Courbe de lumiere</img></h2>

toujours le meme principe de de chargement de la video et de sa navigation.
l'espace photometrie permet de recuperer l'information de la video.
pour l'image, faire un cadre bien large en evitant de prendre des zones a probleme comme la date.
pour les sources, il faut faire des petits cadres comme vous le feriez pour ajuster une gaussienne.

l'appui sur le bouton start va analyser la video et fournir un fichier de relevé photometrique.
en ayant auparavent generé le fichier .time, la photometrie sera en plus, datée a quelques millisecondes prés.


<h2><img src="../img/dark.png" alt="" width="48" height="48" align="middle"> La suite ...</img></h2>

hé oui vous l aurez compris, encore un outil en developpement. desolé pour les captions ca va se faire 
tranquillement mais c est au programme. Le but de cette affaire est de jetter les bases de l'utilisation
de la video pour l'astronomie. La structure de base a été ecrite. vous pourrez voir les 2 namespaces, 
tools_avi et tools_fits qui sont appelés tous deux par tools. ce qui permet le traitement des images fits
ou de la video exactement de la meme facon. 
Cet outil nous apporte deja quelque plus par rapport a ce qui existe actuellement. notament dans l'information
photometrique lors de l'acquisition.
Des outils supplementaires apparaitront bientot comme la possibilité de faire des dark et des flats.



<ul type="none">
<li></li>
<li></li>
</ul>





</p></body></html>
