<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>




  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" /><title>Librairie MC : Manuel Utilisateur</title></head><body>
<center>
<p style="text-align: left;" class="date">Date de mise à jour : 23 juillet 2011</p>
<div style="text-align: left;">
</div>
<h1 style="text-align: left;">LIB MC - Une librairie de calculs de mécanique céleste</h1>

<h1 style="text-align: left;">Manuel Utilisateur</h1>
</center>
Libmc est une librairie d'extension Tcl qui ajoute des fonctions
utilitaires de mécanique céleste. Ce guide de
l'utilisateur s'adresse aux programmeurs de scripts Tcl qui
désirent utiliser les fonctions de libmc. Les fonctions faisant
appel aux "buffer" de AudeLA ne peuvent être employées
qu'avec la plate forme AudeLA.
<h1> <a name="general" id="general">1.
Généralités</a></h1>
<h2> <a name="load" id="load">1.1. Chargement de la librairie dans
l'interpréteur Tcl</a></h2>
<p>Le chargement de la librairie libmc dans l'interpréteur Tcl
se fait simplement par la commande :</p>
<code style="font-weight: bold;">load libmc[info sharedlibextension]</code>
<p>Dans l'interpréteur Tcl la commande [info sharedlibextension]
signifie à l'interpréteur Tcl d'ajouter, automatiquement,
les lettres correspondant au suffixe .dll ou .so en fonction du
système d'exploitation. </p>
<p>Si l'interpréteur retourne le message d'erreur : couldn't
load file "libmc": invalid argument, c'est que le fichier de librairie
libmc (libmc.dll sous Windows et libmc.so sous Linux) n'est pas
placé dans le répertoire courant de l'interpréteur
(cf. fonctions pwd et cd de Tcl). </p>
<h2> 1.2. Principe général des fonctions de MC</h2>
<p>Les fonctions de libmc, ajoutées à Tcl, commencent
toutes par le préfixe mc_ de façon à les
reconnaître. Par exemple, la fonction mc_date2jd convertit une
date en jour julien. Le paramètre de la fonction mc_date2jd est
une variable Tcl permettant de définir la date sous diverses
formes. Par exemple, pour retourner le jour julien de l'instant
présent, le paramètre est now. La fonction
s'écrira donc : </p>
<p><span style="font-weight: bold;">mc_date2jd now</span> </p>
<p>Si l'interpréteur retourne le message d'erreur : invalid
command name "mc_date2jd", c'est que <a href="#load">la librairie
libmc n'a pas été chargée </a>correctement. </p>
<h1> <a name="reference" id="reference">2. Guide de
référence des fonctions de MC</a></h1>
<p>Les fonctions Tcl, ajoutées par MC proposent une vaste
étendue de possibilités. En respect avec la syntaxe Tcl,
chaque fonction se définit par des paramètres
obligatoires, des paramètres facultatifs et des
paramètres optionnels. Ces paramètres doivent
répondre à certaines contraintes de syntaxe. C'est pour
cela que nous commencerons par définir les "types" des
paramètres utilisés spécifiquement par MC avant
d'aborder la liste des fonctions. </p>
<p>Les paramètres des fonctions de MC sont standardisés
pour permettre une utilisation souple. Ainsi, MC définit les
types de paramètres suivants : </p>
<ul>
  <li> <a href="#date">Date</a> : Pour définir une date.</li>
  <li> <a href="#angle">Angle</a> : Pour définir un angle.</li>
  <li> <a href="#object">Object</a> : Pour définir une
planète ou une étoile.</li>
  <li> <a href="#home">Home</a> : Pour définir un site sur la
Terre.</li>
  <li> <a href="#field">Field</a> : Pour définir le champ de
vue d'une image sur le ciel.</li>
  <li> <a href="#format">Format</a> : Pour définir le format de
sortie de valeurs.</li>
  <li> -<a href="#constraint">constraint</a> : Pour définir une
option de contrainte.</li>
</ul>
<p>Par exemple, la syntaxe de la fonction mc_date2jd est : date2jd Date</p>
<h2> 2.1. Définition des types de paramètres pour MC :</h2>
<h3> <a name="date" id="date">2.1.1. Les types Date et ListDates</a></h3>
<p>La définition d'une date peut être faite de plusieurs
façons différentes :</p>
<ul>
  <li> jd : Un nombre supérieur ou égal à 1000000
signifie une date julienne.</li>
  <li> mjd : Un nombre inférieur à 1000000 signifie une
date julienne modifiée (jd - 2400000.5).</li>
  <li> NOW : Le mot now signifie de prendre la date et l'heure actuelle
du système d'exploitation.</li>
  <li> NOW0 : Le mot now0 signifie de prendre la date et l'heure
actuelle du système d'exploitation du matin à 0h.</li>
  <li> NOW1 : Le mot now1 signifie de prendre la date et l'heure
actuelle du système d'exploitation du soir 24h.</li>
  <li> {year month day h m s} : Date grégorienne classique. Il
est possible d'utiliser des nombres décimaux. Par exemple {2001
12 23.567).</li>
  <li> yyyy-mm-ddThh:mm:ss.ss : Date grégorienne codée au
format DATE-OBS d'une en-tête FITS.</li>
  <li> J2000 : Date de définition d'équinoxe (B1950,
J2010.56, etc.).</li>
</ul>
<p> N.B. Les mots NOW, NOW0 et NOW1 peuvent être écrits
indifféremment en majuscule ou en minuscule. </p>
<p>Le type ListDates de MC signifie une liste Tcl
d'éléments de type Date. Par exemple : </p>
<p>{2000 1 1} {2000 1 2} 2451056.4563 {2000-01-03T00:00:00} now </p>
<h3> <a name="angle" id="angle">2.1.2. Les types Angle et
ListAngles</a></h3>
<p>La définition d'un angle peut être faite de plusieurs
façons différentes. Ci-dessous, quelques exemples : </p>
<ul>
  <li> 45°34'28" :</li>
  <li> 45d34m28s : Equivalent à 45°34'28".</li>
  <li> 45d34m28s9 : Equivalent à 45°34'28.9".</li>
  <li> 45d34m28.9s : Equivalent à 45°34'28.9".</li>
  <li> 45d34 : Equivalent à 45°34'.</li>
  <li> 45.34 : Interprété comme 45.34 degrés
décimaux.</li>
  <li> -45d34.5 : Interprété comme -45°34'30".</li>
  <li> 1h30m : Interprété comme 22.5 degrés
décimaux (1 heure équivaut à 15 degrés).</li>
  <li> 1.57r : Interprété comme 1.57 radians.</li>
  <li> {45 34 28.4} : Interprété comme 45d34m28.4s.</li>
  <li> {1 30 h} : Interprété comme 1h30m.</li>
  <li> {1.57 r} : Interprété comme 1.57 radians.</li>
</ul>
<p> Le type ListAngles de MC signifie une liste Tcl
d'éléments de type Angle. Par exemple : </p>
<p>{45d34} {-45 38 6.4} {1h30m} {2 r} </p>
<h3> <a name="object" id="object">2.1.3. Les types Object et
ListObjects</a></h3>
<p> La définition d'une planète ou d'une étoile
est réalisée sous la forme d'une liste dont les
éléments sont définis ainsi : </p>
<ul>
  <li> Name : Chaîne de caractères définissant le
ou les noms des objets (planètes ou étoiles). Une *
signifie tous les objets.</li>
  <li> Format : Source des données orbitales. Les valeurs
possibles sont :</li>
  <ul>
    <li> INTERNAL : Par défaut si Name est le nom, en anglais,
d'une planète du Système Solaire (Mercury, ..., Pluto,
Sun, Moon).</li>
    <li> BOWELLFILE : Pour lire les données dans le fichier
astorb.dat de l'observatoire de Lowell.</li>
    <li> MCPFILE : Pour lire les données dans le fichier Mpcorb
du Minor Planet Center.</li>
    <li> ASTROMMICROCAT : Pour les étoiles au format Microcat
astrométrique.</li>
    <li> LONEOSMICROCAT : Pour les étoiles au format Microcat du
Loneos seulement.</li>
    <li> TYCHOMICROCAT : Pour les étoiles au format Microcat du
Tycho seulement.</li>
    <li> USNO : Pour les étoiles au format du
cédérom original de l'USNO (USNO A ou SA).</li>
  </ul>
  <li> Data : Données orbitales. Les valeurs dépendent de
Format :</li>
  <ul>
    <li> Format = INTERNAL : Ne pas remplir cet élément.</li>
    <li> Format = BOWELLFILE : Nom complet du fichier contenant les
éléments d'orbite.</li>
    <li> Format = MPCFILE : Nom complet du fichier contenant les
éléments d'orbite.</li>
    <li> Format = ASTROMMICROCAT : Nom complet du chemin d'accès
au catalogue.</li>
    <li> Format = LONEOSMICROCAT : Nom complet du chemin d'accès
au catalogue.</li>
    <li> Format = TYCHOMICROCAT : Nom complet du chemin d'accès
au catalogue.</li>
    <li> Format = USNO : Nom complet du chemin d'accès au
catalogue.</li>
  </ul>
</ul>
<p> N.B. Les mots définissant Format et Data peuvent être
écrits indifféremment en majuscule ou en minuscule. </p>
<p>Par exemple, la planète Jupiter est définie par la
liste : </p>
<p>{jupiter internal} </p>
<p>ou plus simplement par le mot Jupiter puisque Internal est pris par
défaut. En revanche, pour l'astéroïde 1997DQ on a : </p>
<p>{1997DQ Bowellfile astorb.dat} </p>
<p>Le type ListPlanets signifie que le paramètre Name peut
être une liste de planètes ou bien * si l'on souhaite
toutes les planètes définies dans Data. Par exemple : </p>
<p>{ { {1} {6809} {10222} {1997DQ} } Mpcfile mpcorb.txt } </p>
<p>Ou encore, pour définir les neuf planètes du
Système Solaire, ainsi que le Soleil et la Lune : </p>
<p>{ * Internal} </p>
<p>que l'on peut simplement écrire * car Internal est la valeur
par défaut. </p>
<h3> <a name="home" id="home">2.1.4. Le type Home</a></h3>
<p> Le type Home permet de localiser un point sur la Terre de
façon à calculer une éphéméride
topocentrique par rapport à ce site, c'est à dire tenant
compte des effets de la parallaxe. La définition d'un site est
réalisée sous la forme d'une liste dont les
éléments sont définis ainsi : </p>
<ul>
  <li> Format : Pour définir le format du système de
coordonnées. Les valeurs possibles sont :</li>
  <ul>
    <li> GPS : Pour définir des coordonnées
géographiques longitude, latitude et altitude.</li>
    <li> MPC : Pour définir des coordonnées en longitude,
rho cos(phi'), rho sin(phi').</li>
    <li> MPCSTATION : Pour définir des coordonnées
à partir d'un numéro de station UAI.</li>
  </ul>
</ul>
<p> En fonction de la définition du format, les autres
éléments ont des sens différents : </p>
<ul>
  <li> Si Format = GPS, les autres éléments sont :</li>
  <ul>
    <li> Longitude : En degrés décimaux. Valeur positive
entre 0 et 180.</li>
    <li> Sens : E ou W pour le sens de la longitude par rapport
à Greenwich.</li>
    <li> Latitude : En degrés décimaux. Positif pour
nord, négatif pour sud.</li>
    <li> Altitude : En mètres par rapport au niveau de la mer.</li>
  </ul>
  <li> Si Format = MPC, les autres éléments sont :</li>
  <ul>
    <li> Longitude : En degrés décimaux positive vers
l'est. Valeur comprise entre 0 et 360.</li>
    <li> Rhocosphip : Valeur de rho cos(phi').</li>
    <li> Rhosinphip : Valeur de rho sin(phi').</li>
  </ul>
  <li> Si Format = MPCSTATION, les autres éléments sont :</li>
  <ul>
    <li> Numéro : Le numéro de la station UAI.</li>
    <li> Filename : Le nom du fichier contenant les stations UAI.</li>
  </ul>
</ul>
<p> N.B. Les mots définissant Format peuvent être
écrits indifféremment en majuscule ou en minuscule. </p>
<p>Par exemple, pour l'observatoire de Paris, situé à
2.3375 degrés à l'est de Greenwich avec rho*sin(phi') =
0.74918 et rho*cos(phi') = 0.65950, on écrira : </p>
<p>{ MPC 2.3375 0.65950 0.74918 } </p>
<p>Autre exemple, pour un observateur situé à la
longitude 3 degrés ouest, à la latitude de 46
degrés nord et à une altitude de 456 mètres : </p>
<p>{ GPS 3 W 46 456 } </p>
<h3> <a name="field" id="field">2.1.5. Le type Field</a></h3>
<p> Le type Field permet de définir le champ de vue d'un
système optique réalisant une projection gnomonique
(image CCD par exemple). La définition d'un champ est
réalisée sous la forme d'une liste dont les
éléments sont définis ainsi : </p>
<ul>
  <li> Format : Pour définir les paramètres de
projection. Les valeurs possibles sont :</li>
  <ul>
    <li> BUFFER : Pour chercher les paramètres de projection
dans les mots clés FITS d'une image chargée dans un
buffer.</li>
    <li> OPTIC : Pour définir manuellement les paramètres
de l'optique de projection.</li>
  </ul>
</ul>
<p> En fonction de la définition du format, les autres
éléments ont des sens différents : </p>
<ul>
  <li> Si Format = BUFFER, les autres éléments sont :</li>
  <ul>
    <li> Numéro : Le numéro du buffer qui contient
l'image.</li>
  </ul>
  <li> Si Format = OPTIC, les autres éléments sont :</li>
  <ul>
    <li> NAXIS1 Valeur : Nombre de points sur l'axe X.</li>
    <li> NAXIS2 Valeur : Nombre de points sur l'axe Y.</li>
    <li> FOCLEN Valeur : La longueur focale en mètres.</li>
    <li> PIXSIZE1 Valeur : La taille du pixel sur l'axe X en
mètres. Négatif si l'on souhaite que les ascensions
droites soient croissantes pour X décroissant.</li>
    <li> PIXSIZE2 Valeur : La taille du pixel sur l'axe Y en
mètres. Négatif si l'on souhaite que les
déclinaisons soient croissantes pour Y décroissant.</li>
    <li> CROTA2 Valeur : L'angle de position du Nord par rapport au
haut de l'image.</li>
    <li> RA Valeur : Ascension droite J2000.0 du centre du champ, en
degrés décimaux.</li>
    <li> DEC Valeur : Déclinaison J2000.0 du centre du champ, en
degrés décimaux.</li>
  </ul>
</ul>
<p> N.B. Les mots définissant Format et leurs arguments (NAXIS1,
etc.) peuvent être écrits indifféremment en
majuscule ou en minuscule. </p>
<p>Par exemple, pour définir un champ centré sur 12h00m
et 15d avec un télescope de focale 2.5 mètres, une
caméra de 768x512 pixels de 9 microns de côté, on
écrira : </p>
<p>{ OPTIC NAXIS1 768 NAXIS2 512 FOCLEN 2.5 PIXSIZE1 9e-6 PIXSIZE2 9e-6
CROTA2 0 RA 180 DEC 15 } </p>
<h3> <a name="format" id="format">2.1.6. Les types Format et
ListFormat</a></h3>
<p> La définition d'un format de sortie est
réalisée en indiquant le nom de la donnée à
écrire. Les valeurs possibles pour Format sont : </p>
<ul>
  <li> RA : Ascension droite J2000.0 en degrés décimaux.</li>
  <li> RAH : Ascension droite J2000.0 en heures entières.</li>
  <li> RAH.H : Ascension droite J2000.0 en heures décimales.</li>
  <li> RAM : Ascension droite J2000.0 en minutes de temps
entières.</li>
  <li> RAM.M : Ascension droite J2000.0 en minutes de temps
décimales.</li>
  <li> RAS : Ascension droite J2000.0 en secondes de temps
entières.</li>
  <li> RAS.S : Ascension droite J2000.0 en secondes de temps
décimales.</li>
  <li> DEC : Déclinaison J2000.0 en degrés
décimaux.</li>
  <li> DECD : Déclinaison J2000.0 en degrés entiers.</li>
  <li> DECM : Déclinaison J2000.0 en minutes de degrés
entières.</li>
  <li> DECM.M : Déclinaison J2000.0 en minutes de degrés
décimales.</li>
  <li> DECS : Déclinaison J2000.0 en secondes de degrés
entières.</li>
  <li> DECS.S : Déclinaison J2000.0 en secondes de degrés
décimales.</li>
  <li> OBJENAME : Nom de l'objet.</li>
  <li> JD : Jour julien.</li>
  <li> YEAR : Année entière.</li>
  <li> MONTH : Mois entier.</li>
  <li> DAY : Jour décimal.</li>
  <li> MAG : Magnitude.</li>
  <li> DELTA : Distance à la Terre en U.A.</li>
  <li> R : Distance astre-Soleil en U.A.</li>
  <li> ELONG : Elongation par rapport au Soleil.</li>
  <li> MOONELONG : Distance angulaire à la Lune.</li>
  <li> PHASE : Phase de l'astre.</li>
  <li> APPDIAM : Diamètre apparent en degrés.</li>
  <li> AZIMUTH : Azimut en degrés (utiliser l'option -topo).</li>
  <li> ALTITUDE : Hauteur sur l'horizon en degrés (utiliser
l'option -topo).</li>
  <li> HA : Angle horaire en degrés (utiliser l'option -topo).</li>
  <li> APPDIAMEQU : Diamètre apparent équatorial en
degrés.</li>
  <li> APPDIAMPOL : Diamètre apparent polaire en degrés.</li>
  <li> LONGI : Longitude du méridien central de l'astre dans le
système I.</li>
  <li> LONGII : Longitude du méridien central de l'astre dans le
système II.</li>
  <li> LONGIII : Longitude du méridien central de l'astre dans
le système III.</li>
  <li> LATI : Latitude planétocentrique du centre de l'astre.</li>
  <li> POSNORTH : Angle de position du pôle nord de l'astre.</li>
  <li> POSSUN : Angle de position du limbe brillant.</li>
  <li> LONGI_SUN : Longitude du Soleil dans le système I sur une
carte de la planète.</li>
  <li> LATI_SUN : Latitude du Soleil sur une carte de la planète.</li>
</ul>
<p> N.B. Les mots définissant le type Format peuvent être
écrits indifféremment en majuscule ou en minuscule. </p>
<p>Le type ListFormat permet d'écrire la liste des
paramètres que l'on veut en sortie. Par exemple, pour avoir le
nom, la date et la magnitude d'un objet, on écrira la liste
suivante : </p>
<p>{ OBJENAME YEAR MONTH DAY MAG } </p>
<h3> <a name="constraint" id="constraint">2.1.7. Le type d'option
-constraint</a></h3>
<p> Le type -constraint s'applique aux options. Il permet d'exclure des
astres situés hors de valeurs acceptables. Il existe deux
syntaxes différentes qui correspondent aux cas suivants : </p>
<ul>
  <li> -contrainst&gt; Valeur : Pour exclure tout astre situé
à une valeur inférieure à Valeur.</li>
  <li> -contrainst&lt; Valeur : Pour exclure tout astre situé
à une valeur supérieure à Valeur.</li>
</ul>
La liste des contraintes possibles est la suivante :
<ul>
  <li> dec : Pour la déclinaison.</li>
  <li> elong : Pour l'élongation de l'astre par rapport au
Soleil.</li>
  <li> moonelong : Pour l'élongation de l'astre par rapport
à la Lune.</li>
  <li> delta : Pour une distance astre-Terre.</li>
  <li> r : Pour une distance astre-Soleil.</li>
  <li> mag : Pour une magnitude.</li>
  <li> altitude : Pour une hauteur sur l'horizon.</li>
  <li> azimuth : Pour une valeur d'azimut.</li>
  <li> ha : Pour une valeur d'angle horaire.</li>
  <li> magr : Pour une magnitude R.</li>
  <li> magb : Pour une magnitude B.</li>
</ul>
<p> N.B. Les mots définissant les types "Option" et leurs
arguments peuvent être écrits indifféremment en
majuscule ou en minuscule. </p>
<p>Note : En ce qui concerne les options azimuth et ha, la
définition de &gt; et &lt; est un peu différente. -ha&lt;
15 signifie de garder tous les astres qui ont un angle horaire
inférieur à 15 degrés du méridien (de part
et d'autre). Idem pour azimuth. </p>
<p>Par exemple, si l'on souhaite garder uniquement les astres plus
brillants que la magnitude 12 mais plus faible que la magnitude 10, de
déclinaison supérieure à -15 degrés, de
hauteur supérieure à 30 degrés, on écrira
les options suivantes : </p>
<p>-mag&lt; 12 -mag&gt; 10 -dec&gt; -15 -altitude&gt; 30 </p>
<h2> 2.2. Fonctions d'extension Tcl de MC</h2>
<p> On trouvera ci-après la liste des fonctions MC accessibles
depuis l'interpréteur Tcl. </p>
<h3> 2.2.1. Ephémérides</h3>
<p> La fonction de génération
d'éphémérides s'appelle mc_ephem. </p>
<p><a name="mc_ephem" id="mc_ephem"><span style="font-weight: bold;">mc_ephem</span>
</a><a href="#object">ListObjects</a> ?<a href="#date">ListDates UTC</a>? ?<a href="#format">ListFormat</a>? -<a href="#constraint">constraint Value</a>
-<a href="#home">topo Home</a>&nbsp; ?-equinox Date|apparent? ?-tt-utc
seconds? </p>
Par défaut, ListDate=NOW et ListFormat={ OBJENAME RA DEC}.
Les coordonnées de sortie sont en J2000 par défaut mais
peuvent être changées en utilisant l'option -equinox. Les
coordonnées de sortie seront dans le référentiel
apparent si l'on emploie l'option -equinox apparent.<br />
<br />
Attention, les dates doivent être entrées UTC et seront
converties en en temps terrestre (TT) automatiquement si l'option
-tt-tu n'est pas utilisée.
<p>En retour, on obtient une liste dont chaque élément
contient des données sous la forme définie par
ListFormat. Le dernier élément de la liste de sortie est
différent. Il contient des informations sur le calcul
effectué. Les catalogues d'étoiles de ListObject ne sont
pas pris en compte. Dans les options -contrainst, magr et magb sont
sans effet. </p>
<p>Dans le cas particulier d'objets de type astéroïdes de
la base de Bowell ou du MPC, il y a deux options supplémentaires
: </p>
<ul>
  <li> -numb 0 : Pour ne pas calculer les astéroïdes
numérotés.</li>
  <li> -prov 0 : Pour ne pas calculer les astéroïdes
à désignation provisoire.</li>
</ul>
<p> Exemples : </p>
<ul>
  <li style="font-weight: bold;"> <code>mc_ephem *</code></li>
  <p> Calcule la position géocentrique des neuf planètes
du Système Solaire ainsi que le Soleil et la Lune pour l'instant
présent. </p>
  <li style="font-weight: bold;"> <code>mc_ephem * {{2000 4 13}}
{OBJENAME RAH RAM.M DECD DECM.M}</code></li>
  <p> Calcule la position géocentrique des neuf planètes
du Système Solaire ainsi que le Soleil et la Lune pour le 13
Avril 2000 à 0 heures UTC. En retour, on obtient la liste
suivante :</p>
  <p>{Sun 1 26.51470203 +9 4.75296865 } {Moon 8 59.20600127 +18
12.25042233 } {Mercury 0 4.04371737 -2 21.69687295 } {Venus 0
30.60449346 +1 39.94498600 } {Mars 2 50.80720143 +16 35.91445832 }
{Jupiter 2 39.11224733 +14 33.64514056 } {Saturn 3 0.23361403 +14
56.34185673 } {Uranus 21 30.94094013 -15 25.37372123 } {Neptune 20
34.89529996 -18 27.53202026 } {Pluto 16 50.73396726 -11 8.99983823 }
{Ok {J2000.0 coordinates} 10} </p>
  <li style="font-weight: bold;"> <code>mc_ephem {Sun Moon} [list
{1999 8 11 10 26}] -topo {GPS 2 E 48.5 125}</code></li>
  <p> Calcule la position topocentrique de la Lune et du Soleil pour le
11 Août 1999 à 10 heures 26&nbsp;UTC. En retour, on
obtient la
liste suivante : </p>
  <p>{Sun 140.769774254463 15.332396394633 } {Moon 140.798951052538
15.342836375304 } {Ok {J2000.0 coordinates} 2} </p>
  <li style="font-weight: bold;"> <code>mc_ephem {* Bowellfile
astorb.dat} now {OBJENAME RA DEC MAG} -ha&lt; 45 -dec&gt; -15 -dec&lt;
40 -mag&lt; 17 -moonelong&gt; 30 -topo {MPCSTATION 148 stations.txt}</code></li>
  <p> Calcule la position topocentrique actuelle, pour le site UAI
numéro 148, de tous les astéroïdes de la base de
données de Bowell qui sont plus brillants que la magnitude 17,
situés à moins de 45 degrés du méridien,
entre les déclinaisons -15 et +40 degrés, à plus
de 30 degrés de la Lune.</p>
  <li style="font-weight: bold;"><small> <b><tt><font size="+1"><small>set date
2011-03-18T00:00:00<br />

set tt_minus_utc_sec [expr ([mc_date2tt $date]-[mc_date2jd
$date])*86400]<br />

set res [lindex [mc_ephem sun $date {ra dec} -tt-utc $tt_minus_utc_sec]
0 ]<br />

set ra [mc_angle2hms [lindex $res 0]]<br />

set dec [mc_angle2dms [lindex $res 1] 90]<br />

::console::affiche_resultat "$date $ra $dec\n"</small></font></tt></b></small></li>
</ul>
<p style="margin-left: 40px;"> Calcule les coordonnées du Soleil
à partir d'une date TT.</p>
<p> Pour calculer l'éphéméride d'un astre pour
plusieurs dates, il est utile de générer la ListDates
à partir de la fonction <a href="#mc_date2listdates">mc_date2listdates</a>.
</p>
<p>Dans le cas particulier de la Lune, on peut calculer les
paramètres d'observation physique de libration.</p>
<p>Pour Soleil, Mercure, Venus, Mars, Jupiter, Saturne, Uranus et
Neptune, les éphémérides sont calculées
d'après la théorie VSOP87 tronquée aux termes
donnant une précision meilleur que 2 arcsec. </p>
<p><a name="mc_libration" id="mc_libration"><span style="font-weight: bold;">mc_libration</span> </a><a href="#date">Dates</a>
?<a href="#home">Home</a>? </p>
<p>Calcule les paramètres de libration géocentrique ou
topocentrique si Home est spécifié. En retour, on a une
liste de 6 éléments : </p>
<p style="margin-left: 40px;">Longitude sélénographique
du centre (Terre au zénith). </p>
<p style="margin-left: 40px;"> Latitude sélénographique
du centre (Terre au zénith). </p>
<p style="margin-left: 40px;">Position de l'angle de l'axe de rotation
(axe des pôles). </p>
<p style="margin-left: 40px;"> Longitude sélénographique
du Soleil au zénith. </p>
<p style="margin-left: 40px;"> Latitude sélénographique
du Soleil au zénith. </p>
<p style="margin-left: 40px;"> Colongitude
sélénographique du Soleil au zénith.</p>
<p> On rappelle que les longitudes sélénographiques sont
positives vers la direction ouest (vers la mer des Crises). </p>
<h3> 2.2.2. Astres dans un champ</h3>
<p> La fonction permettant de lister les astres dans un champ d'image
CCD est mc_readcat. </p>
<p><a name="mc_readcat" id="mc_readcat"><span style="font-weight: bold;">mc_readcat</span> </a><a href="#field">Field</a>
<a href="#object">ListObjects</a> Output -<a href="#constraint">constraint
Value</a> -objmax Value -<a href="#date">date Date</a> -<a href="#home">topo
Home</a> </p>
<p>Le paramètre obligatoire Output sert à
déterminer si les données de sortie seront écrites
dans un fichier ou sous la forme d'une liste en retour. Les valeurs
autorisées de Output sont les suivantes : </p>
<ul>
  <li> {FILE Filename} : Cette liste de deux éléments
commence par FILE et le second élément donne le nom du
fichier texte dans lequel seront écrites les données de
sortie.</li>
  <li> LIST : Pour sortir les données sous la forme d'une liste
Tcl.</li>
</ul>
<p> L'option -objmax sert à déterminer un nombre maximum
d'objets dans la liste de sortie. Par défaut cette valeur vaut
1000. </p>
<p>Seules les options -contrainst, magb et magv sont actives. </p>
<p>L'option -date permet de fixer une date pour le cas de positions
planétaires (NOW par défaut). </p>
<p>L'option -topo permet de fixer un site pour le cas de positions
planétaires (géocentrique par défaut). </p>
<p>Le format de sortie est figé : {RA DEC MAGB MAGR X Y
OBJENAME}. Le champ OBJENAME n'est rempli que pour les planètes.
Le dernier élément de la liste de sortie est
différent. Il contient des informations sur le calcul
effectué. </p>
<p>Exemples : </p>
<ul>
  <li style="font-weight: bold;"> <code>mc_readcat { OPTIC NAXIS1 768
NAXIS2 512 FOCLEN 2.5 PIXSIZE1 9e-6 PIXSIZE2 9e-6 CROTA2 0 RA 180 DEC
15 } {* TYCHOMICROCAT f:\\} {LIST}</code></li>
  <p> Calcule la projection de toutes les étoiles Tycho
présentes sur le champ défini par les mots clés
FITS. </p>
  <li style="font-weight: bold;"> <code>mc_readcat { BUFFER 1 } {*
BOWELLFILE astorb.dat} {LIST} -magb&lt; 18 -magr&lt; 18</code></li>
  <p> Calcule la projection de tous les astéroïdes de la
base de Bowell présents sur le champ défini par les mots
clés FITS de l'image en buffer 1. On ne désire que les
astéroïdes de magnitude inférieure à 18. </p>
</ul>
<h3> 2.2.3. Utilitaires de conversion d'angles</h3>
<p> <a name="mc_angle2deg" id="mc_angle2deg"><span style="font-weight: bold;">mc_angle2deg</span> </a><a href="#angle">Angle</a>
: Retourne l'angle en degrés décimaux. </p>
<p> <a name="mc_angle2rad" id="mc_angle2rad"><span style="font-weight: bold;">mc_angle2rad</span> </a><a href="#angle">Angle</a>
: Retourne l'angle en radians. </p>
<p> <a name="mc_angle2dms" id="mc_angle2dms"><span style="font-weight: bold;">mc_angle2dms</span> </a><a href="#angle">Angle</a>
?limit? ?nozero|zero? ?subsecdigits? ?auto|+? ?list|string? : Retourne
l'angle sous forme degrés, minutes et secondes d'angle. Le
résultat est retourné entre 0 et 360 degrés.
L'option limit (=360 par défaut) permet de limiter le domaine
d'angle. Si l'angle est supérieur à limit alors il est
retourné négatif. Pour une déclinaison on imposera
limit à 90. L'option nozero|zero sert à imposer que le
format de sortie ajoute des zéros devant les chiffres (=nozero
par défaut). L'option subsecdigits sert à fixer le nombre
de digits retournés après les secondes. L'option auto|+
sert à imposer le retour du signe devant le résultat
(=auto par défaut donc pas de signe imposé). L'option
list|string sert à fixer le format de sortie sous la forme d'une
liste (trois éléments {12 56 34.234} par exemple) ou bien
sous la forme d'une seule chaîne (12d56m34s234 par exemple). </p>
<p><a name="mc_angle2hms" id="mc_angle2hms"><span style="font-weight: bold;">mc_angle2hms</span> </a><a href="#angle">Angle</a>
?limit? ?nozero|zero? ?subsecdigits? ?auto|+? ?list|string? : Retourne
l'angle sous forme heures, minutes et secondes de temps. Le
résultat est retourné entre 0 et 24 heures. L'option
limit (=360 par défaut) permet de limiter le domaine d'angle
(limit doit être exprimé en degrés). Si l'angle est
supérieur à limit alors il est retourné
négatif. L'option nozero|zero sert à imposer que le
format de sortie ajoute des zéros devant les chiffres (=nozero
par défaut). L'option subsecdigits sert à fixer le nombre
de digits retournés après les secondes. L'option auto|+
sert à imposer le retour du signe devant le résultat
(=auto par défaut donc pas de signe imposé). L'option
list|string sert à fixer le format de sortie sous la forme d'une
liste (trois éléments {12 56 34.234} par exemple) ou bien
sous la forme d'une seule chaîne (12h56m34s234 par exemple). </p>
<p><a name="mc_angle2lx200dec" id="mc_angle2lx200dec"><span style="font-weight: bold;">mc_angle2lx200dec</span> </a><a href="#angle">Angle</a>
?-format long|short? : Retourne l'angle au format déclinaison
(Sd) du protocole LX200. L'option format permet de choisir
l'écriture longue ou courte défini dans le protocole.</p>
<p><a name="mc_angle2lx200ra" id="mc_angle2lx200ra"><span style="font-weight: bold;">mc_angle2lx200ra</span> </a><a href="#angle">Angle</a>
: ?-format long|short? : Retourne l'angle au format ascension droite
(Sr) du protocole LX200. L'option format permet de choisir
l'écriture longue ou courte défini dans le protocole.</p>
<p><a name="mc_anglesep" id="mc_anglesep"><span style="font-weight: bold;">mc_anglesep</span> </a><a href="#angle">ListAngles</a>
?Units? : Retourne l'angle de séparation et l'angle de position.
La liste doit compter 4 angles définis dans l'ordre suivant :
Ra1 Dec1 Ra2 Dec2. Le résultat est retourné en
degrés par défaut. Pour avoir un résultat en
radians ajouter Unit=Radian.</p>
<p><b><a name="mc_angles2nexstar">mc_angles2nexstar</a></b> <a href="mcusr_fr_new.htm#angle">Angle</a> <a href="mcusr_fr_new.htm#angle">Angle</a> ?bits?: Retourne
les
deux angles Ra et Dec en une seule chaîne au format du protocole
Nexstar. Bits=16 (par défaut) ou 24.</p>
<p> <b><a name="mc_nexstar2angles">mc_nexstar2angles </a></b>Nexstar_string
:
Retourne
une liste Ra Dec (en degrés) à partir d'une
seule chaîne au format du protocole Nexstar.
</p>
<p><a name="mc_radec2altaz" id="mc_radec2altaz"><span style="font-weight: bold;">mc_radec2altaz</span> </a><a href="#angle">Angle_ra</a>
<a href="#angle">Angle_dec</a> <a href="#home">Home</a> <a href="#date">Date</a>
: Retourne une liste des quatre
paramètres utiles pour le système altazimutal : Azimut,
Hauteur, Angle horaire et Angle parallactique. La date donnée en
paramètre doit contenir l'heure TU. Les coordonnées Angle_ra et
Angle_dec sont les coordonnées équatoriales à l'équinoxe de la date
courante (now).<br />
 </p>
<p><a name="mc_hadec2altaz" id="mc_hadec2altaz"><span style="font-weight: bold;">mc_hadec2altaz</span> </a><a href="#angle">Angle_ha</a>
<a href="#angle">Angle_dec</a> <a href="#home">Home</a> <a href="#date">Date</a> : Retourne une liste des quatre
paramètres utiles pour le système altazimutal : Azimut,
Hauteur, Angle horaire et Angle parallactique.</p>
<p><a name="mc_altaz2radec" id="mc_altaz2radec"><span style="font-weight: bold;">mc_altaz2radec</span> </a><a href="#angle">Angle_Azimuth</a>
<a href="#angle">Angle_Altitude</a> <a href="#date">Home</a> <a href="#date">Date</a> : Retourne une liste de quatre
paramètres : Ra, Dec, Angle horaire et Angle parallactique
à partir de
l'azimut et de la hauteur, les coordonnées équatoriales retournées sont
les coordonnées à l'équinoxe de la date courante (now). La date donnée
en
paramètre doit contenir l'heure TU. </p>
<p><a name="mc_altaz2hadec" id="mc_altaz2hadec"><span style="font-weight: bold;">mc_altaz2hadec</span> </a><a href="#angle">Angle_Azimuth</a>
<a href="#angle">Angle_Altitude</a> <a href="#date">Home</a> <a href="#date">Date</a> : Retourne une liste de trois
paramètres : Angle Horaire, Dec et Angle parallactique à
partir de l'azimut et de la hauteur. </p>
<p><a name="mc_refraction" id="mc_refraction"><span style="font-weight: bold;">mc_refraction</span> altitude out2in|in2out
?temperature? ?pressure? : Calcule la correction (en degrés) due
à la réfraction atmosphérique qu'il faut apporter
à la hauteur. out2in pour calculer la réfraction à
partir de la hauteur hors atmosphère (ajouter la
réfraction) et in2out pour le contraire (soustraire la
réfraction). La température est exprimée en Kelvin
(283K par défaut) et la pression en Pascal (101000 Pa par
défaut). </a></p>
<p><a name="mc_anglescomp" id="mc_anglescomp"><span style="font-weight: bold;">mc_anglescomp</span> </a><a href="#angle">Angle1</a>
operand <a href="#angle">Angle2</a> : Effectue une opération
arithmétique (+,-,*,/,modulo) sur deux angles. </p>
<p><a name="mc_home2geosys" id="mc_home2geosys"><span style="font-weight: bold;">mc_home2geosys</span> </a><a href="#home">Home</a>
geosys1 geosys2 ?-height? : Effectue la conversion de
coordonnées géodésiques d'un système
(geosys1) vers un autre (geosys2). Les systèmes reconnus sont
ED50 et WGS84. L'option -height permet de retourner un quatrième
paramètre : La hauteur du site sur l'ellipsoïde de
référence. </p>
<p><a name="mc_radec2galactic" id="mc_radec2galactic"><span style="font-weight: bold;">mc_radec2galactic</span> </a><a href="#angle">Angles_RaDec</a>
<a href="#date">Date_Equinox</a> : Transforme la liste Angles_RaDec
à l'équinoxe Date_Equinox vers les coordonnées
galactiques de type II. </p>
<p><a name="mc_galactic2radec" id="mc_galactic2radec"><span style="font-weight: bold;">mc_galactic2radec</span> </a><a href="#angle">Angles_LonLat</a>
<a href="#date">Date_Equinox</a> : Transforme la liste Angles_LonLat de
coordonnées galactiques de type II vers les coordonnées
RaDec à l'équinoxe Date_Equinox.</p>
<p> <a name="mc_radec2ecliptic" id="mc_radec2ecliptic"><span style="font-weight: bold;">mc_radec2ecliptic</span> </a><a href="#angle">Angles_RaDec</a>
<a href="#date">Date_Equinox</a> : Transforme la liste Angles_RaDec
à l'équinoxe Date_Equinox vers les coordonnées
écliptiques.</p>
<p><a name="mc_ecliptic2radec" id="mc_ecliptic2radec"><span style="font-weight: bold;">mc_ecliptic2radec</span> </a><a href="#angle">Angles_LonLat</a>
<a href="#date">Date_Equinox</a> : Transforme la liste Angles_LonLat de
coordonnées écliptiques vers les coordonnées RaDec
à l'équinoxe Date_Equinox. </p>
<h3> 2.2.4. Utilitaires de conversion de dates</h3>
<p><a name="mc_date2jd" id="mc_date2jd"><span style="font-weight: bold;">mc_date2jd</span> </a><a href="#date">Date</a>
: Retourne le jour julien du paramètre du type Date.</p>
<p><a name="mc_date2tt" id="mc_date2tt"><span style="font-weight: bold;">mc_date2tt</span> </a><a href="file:///D:/audela/dev/libmc/html/mcusr_fr.htm#date">Date</a> :
Convertit la date en le temps terrestre exprimé en jour julien .
</p>
<p><a name="mc_date2ymdhms" id="mc_date2ymdhms"><span style="font-weight: bold;">mc_date2ymdhms</span> </a><a href="#date">Date</a>
: Retourne la date en clair Yyyy Mm Dd Hh Mm Ss.sss à partir du
type Date. </p>
<p><a name="mc_date2lst" id="mc_date2lst"><span style="font-weight: bold;">mc_date2lst</span>&nbsp;</a><a href="mcusr_fr_new.htm#date">Date_UTC</a>
<a href="mcusr_fr_new.htm#home">Home_cep</a> ?-ut1-utc UT1-UTC(sec)?
?-nutation 1|0?
?-format hms|deg?: Retourne le temps sidéral local apparent sous
la forme Hh Mm Ss.sss (-format hms, par défaut) ou sous la forme
degrés décimaux (-format deg) à partir des
paramètres de type Date (en UTC) et du
type Home (corrigé du pôle vrai avec la fonction
mc_homecep). On peut annuler l'effet de l'équation des
équinoxes si l'on utilise -nutation 0. </p>
<p> <a name="mc_date2listdates" id="mc_date2listdates"><span style="font-weight: bold;">mc_date2listdates</span> </a><a href="#date">Date</a>
DateStep NbSteps : Retourne une ListDates à partir d'une date
incrémentée NbSteps fois du pas DateStep (en jours).</p>
<p> <a name="mc_date2iso8601" id="mc_date2iso8601"><span style="font-weight: bold;">mc_date2iso8601</span> </a><a href="#date">Date</a>:
Transforme
une date en format d'en-tête FITS. Utile pour ajouter
l'info DATE-OBS à une en-tête FITS.</p>
<p> <a name="mc_datescomp" id="mc_datescomp"><span style="font-weight: bold;">mc_datescomp</span> </a><a href="#date">Date</a>
Operand days : Effectue une opération arithmétique
à partir d'une date. Utile pour calculer le temps de pose du
milieu de l'image.<br />
</p>
<p><b><a name="mc_tt2bary">mc_tt2bary</a></b> <a href="../../../../../../../../d/audela/dev/libmc/html/mcusr_fr.htm#date">Date</a>
<a href="../../../../../../../../d/audela/dev/libmc/html/mcusr_fr.htm#angle">Angle_Ra</a>
<a href="../../../../../../../../d/audela/dev/libmc/html/mcusr_fr.htm#angle">Angle_Dec</a>
<a href="../../../../../../../../d/audela/dev/libmc/html/mcusr_fr.htm#date">Equinox</a>
?<a href="../../../../../../../../d/audela/dev/libmc/html/mcusr_fr.htm#home">Home</a>?
:
Retourne
le jour julien correspondant à l'arrivée au
barycentre du système solaire, d'un événement
observé
sur la Terre à une date exprimée en temps terrestre.&nbsp;</p>
<p><b><a name="mc_dates_ut2bary">mc_dates_ut2bary</a></b> <a href="../../../../../../../../d/audela/dev/libmc/html/mcusr_fr.htm#date">ListDates_UT</a>
<a href="../../../../../../../../d/audela/dev/libmc/html/mcusr_fr.htm#angle">Angle_Ra</a>
<a href="../../../../../../../../d/audela/dev/libmc/html/mcusr_fr.htm#angle">Angle_Dec</a>
<a href="../../../../../../../../d/audela/dev/libmc/html/mcusr_fr.htm#date">Equinox</a>
?<a href="../../../../../../../../d/audela/dev/libmc/html/mcusr_fr.htm#home">Home</a>?
:
Retourne
le jour julien correspondant à l'arrivée au
barycentre du système solaire, d'une série
d'événements observés sur la Terre à une
date exprimée en temps universel UTC. </p>
<p>Exemples : </p>
<ul>
  <li style="font-weight: bold;"> <code>mc_date2ymdhms now</code></li>
  <p> Retourne une liste contenant la date sous la forme année,
mois, jour, heure, minute, seconde :</p>
  <p>2000 2 11 12 51 56.999991 </p>
  <li style="font-weight: bold;"> <code>mc_date2jd {2000 2 11 12 51
56.999991}</code></li>
  <p> Retourne le jour julien correspondant à la date : </p>
  <p>2451586.036076 </p>
  <li style="font-weight: bold;"> <code>mc_date2lst now {gps 20 e 45
130}</code></li>
  <p>Retourne une liste contenant le temps sidéral local actuel
sous la forme heure, minute, seconde : </p>
  <p>23 37 5.098954 </p>
  <li style="font-weight: bold;"> <code>mc_date2listdates now0 0.5 20</code></li>
  <p>Retourne une liste de dates (en jour julien) de type ListDates. Le
premier élément de la liste correspond à la date
d'aujourd'hui à 0h, et les dates suivantes se suivent de 0.5
jour en 0.5 jour. On calcule ainsi 20 dates : </p>
  <p>2451585.500000 2451586.000000 2451586.500000 2451587.000000
2451587.500000 2451588.000000 2451588.500000 2451589.000000
2451589.500000 2451590.000000 2451590.500000 2451591.000000
2451591.500000 2451592.000000 2451592.500000 2451593.000000
2451593.500000 2451594.000000 2451594.500000 2451595.000000 </p>
  <p>Cette liste est particulièrement utile pour calculer
l'éphéméride d'un astre au cours du temps (cf.
fonction <a href="#mc_ephem">mc_ephem</a>).</p>
</ul>
<h3> 2.2.5. Utilitaires d'astrométrie</h3>
<p><a name="mc_buf2field" id="mc_buf2field"><span style="font-weight: bold;">mc_buf2field</span> Numbuffer : Retourne
une liste Field de paramètres optiques à partir de
l'en-tête FITS de l'image du buffer numéro Numbuffer.</a></p>
<p> <a name="mc_xy2radec" id="mc_xy2radec"><span style="font-weight: bold;">mc_xy2radec</span> x y </a><a href="#field">Field</a>
: Retourne une liste au format {RA DEC} à partir des
coordonnées x et y.</p>
<p> <a name="mc_radec2xy" id="mc_radec2xy"><span style="font-weight: bold;">mc_radec2xy</span> ra dec </a><a href="#field">Field</a>
: Retourne une liste au format {X Y} à partir des
coordonnées ra et dec.</p>
<p><a name="mc_precessradec" id="mc_precessradec"><span style="font-weight: bold;">mc_precessradec</span>&nbsp;</a><a href="mcusr_fr_new.htm#angle">ListAngles</a>
<a href="mcusr_fr_new.htm#date">Date_eq1</a> <a href="mcusr_fr_new.htm#date">Date_eq2</a> ?<a href="mcusr_fr_new.htm#angle">ListAngles_proper</a>? : Retourne une
liste d'angles en
degrés (Ra et Dec) corrigés de la précession
à partir des coordonnées de ListAngles au format {ra dec}
de l'équinoxe Date_eq1 vers l'équinoxe Date_eq2. Il est
possible d'ajouter les mouvements propres annuels par
l'intermédiaire de
ListAngles_proper (liste de types Dates). </p>
<p><a name="mc_nutationradec" id="mc_nutationradec"><span style="font-weight: bold;">mc_nutationradec</span> </a><a href="#angle">ListAngles</a>
<a href="#date">Date</a> ?-reverse? : Retourne une liste d'angles en
degrés (Ra et Dec) corrigés de la nutation à
partir des coordonnées de ListAngles au format {ra dec}.
L'option -reverse sert à effectuer le calcul inverse.</p>
<p> <a name="mc_aberrationradec" id="mc_aberrationradec"><span style="font-weight: bold;">mc_aberrationradec</span>
annual|diurnal|eterms </a><a href="#angle">ListAngles</a> <a href="#date">Date</a>
?<a href="#home">Home</a>? ?-reverse? : Retourne une liste d'angles en
degrés (Ra et Dec) corrigés de l'aberration à
partir des coordonnées de ListAngles au format {ra dec}. On
choisit, soit l'aberration annuelle (annual), soit l'aberration des
termes elliptiques (eterms) ou bien l'aberration diurne (diurnal). Dans
ce dernier cas, il faut préciser le site (Home). L'option
-reverse sert à effectuer le calcul inverse.<br />
</p>
<p><b><a name="mc_parallaxradec">mc_parallaxradec</a></b> <a href="../../../../../../../../d/audela-1.4.0/audela/src/audela/libmc/html/mcusr_fr.htm#angle">ListAngles</a>
<a href="../../../../../../../../d/audela-1.4.0/audela/src/audela/libmc/html/mcusr_fr.htm#date">Date</a>
PLX_mas: Retourne une liste d'angles en degrés (Ra et Dec)
corrigés de la parallaxe annuelle à partir des
coordonnées de ListAngles au format {ra dec}. La parallaxe est
donnée en entrée en milli secondes d'arc. </p>
<p><a name="mc_listradec" id="mc_listradec"><span style="font-weight: bold;">mc_listradec</span> </a><a href="#field">Field</a>
Mosaic ComPix : Génère une liste de listes {X Y RA DEC}
à partir d'un champ de type Field, en faisant une mosaïque
définie par le paramètre Mosaic avec un recouvrement de
ComPix pixels entre chaque champ. La mosaïque peut être
générée de différentes façons : </p>
<ul>
  <li> Mosaic = {FREE dx1 dy1 dx2 dy2 ...}: Le premier champ est
pointé par décalage de dx1,dy1 pixels par rapport au
centre défini par Field. Le second champ est pointé par
décalage de dx2,dy2 pixels par rapport au premier champ et ainsi
de suite (toujours par rapport au champ précédent). Le
paramètre ComPix est sans effet.</li>
  <li> Mosaic = {NAXIS1 Nbfields} : Le premier champ est défini
par Field. Les champs suivants sont décalés selon l'axe
des X croissants si Nbfields est positif (respectivement
décroissant si NbFields est négatif). Il y aura NbFields
champs pointés.</li>
  <li> Mosaic = {NAXIS2 Nbfields} : Le premier champ est défini
par Field. Les champs suivants sont décalés selon l'axe
des Y croissants si Nbfields est positif (respectivement
décroissant si NbFields est négatif). Il y aura NbFields
champs pointés.</li>
  <li> Mosaic = {ROLL Nbfields Parity} : Le premier champ est
centré sur Field. Les champs suivants tournent en spirale autour
de Fields. Il y aura NbFields champs pointés. L'ordre des champs
est le suivant :</li>
</ul>
<table style="margin-left: 80px;">
  <tbody>
    <tr>
      <td>9</td>
      <td>2</td>
      <td>3</td>
    </tr>
    <tr>
      <td>8</td>
      <td>1</td>
      <td>4</td>
    </tr>
    <tr>
      <td>7</td>
      <td>6</td>
      <td>5</td>
    </tr>
  </tbody>
</table>
<p style="margin-left: 80px;">Si Parity=0 alors tous les champs seront
pointés (valeur par défaut).<br />
Si Parity=1 alors seuls les champs d'indice impairs seront
pointés.<br />
Si Parity=2 alors seuls les champs d'indice pairs seront pointés.</p>
<ul>
  <li> Mosaic = {RANDOM Nbfields} : Le premier champ est centré
sur Field. Les champs suivants sont choisis au hasard dans un
carré de côté Compix centré sur la position
de Field. Il y aura NbFields champs pointés.</li>
</ul>
<p>Exemples :</p>
<ul>
  <li style="font-weight: bold;"> <code>mc_listradec {optic naxis1 256
naxis2 256 foclen 16 pixsize1 40e-6 pixsize2 40e-6 crota2 0 ra 95.345
dec 67.97} {roll 10} 15</code></li>
  <p> Calcule la position de dix champs qui s'enchaînent en
spirale à partir des coordonnées ra=95.345 degrés
et dec 67.97=degrés. Les champs ont un recouvrement de 15
pixels. Chaque image sera faite avec une matrice 256x256 avec des
pixels de 40 microns et une focale de 16 mètres. </p>
  <p>{95.345000 67.970000 128.000000 128.000000} {95.345000 68.004521
128.000000 369.000000} {95.252830 68.004495 369.000000 369.000000}
{95.252967 67.969974 369.000000 128.000000} {95.253104 67.935454
369.000000 -113.000000} {95.345000 67.935479 128.000000 -113.000000}
{95.436896 67.935454 -113.000000 -113.000000} {95.437033 67.969974
-113.000000 128.000000} {95.437170 68.004495 -113.000000 369.000000}
{95.437307 68.039016 -113.000000 610.000000} </p>
  <p>Chacun des dix éléments contient l'ascension droite
(en degrés), la déclinaison (en degrés) et la
position x,y du centre de l'image dans le système de
coordonnées x,y de la pose définie par Field. </p>
  <li style="font-weight: bold;"> <code>mc_xy2radec 13.45 115.78
{optic naxis1 256 naxis2 256 foclen 16 pixsize1 40e-6 pixsize2 40e-6
crota2 0 ra 95.345 dec 67.97}</code></li>
  <p>Calcule les coordonnées ra,dec de la position
cartésienne x=13.45 y=115.78 sur l'image dont le champ est
défini par les paramètres de Field. Dans le cas d'une
image présente dans un buffer, ces paramètres peuvent
être automatiquement extraits de l'en-tête (si l'image a
été préalablement calibrée !) grâce
à la fonction mc_buf2field. </p>
  <p>95.388741 67.968244 </p>
  <p>En retour, on a les coordonnées ra et dec en degrés.
  </p>
  <li style="font-weight: bold;"> <code>mc_precessradec {2h31m48s704
89d15m50s72} J2000 J2050 {0h0m0s19877 -0°0'0.0152"}</code></li>
  <p>Calcule les coordonnées ra,dec pour l'équinoxe
J2050, de l'étoile (Polaris dans cet exemple) de
coordonnées 2h31m48s704 89d15m50s72 à l'équinoxe
J2000.0 et qui a un mouvement propre de 0.19877s et -0.0152" par an.</p>
  <p>57.068444 89.454271</p>
</ul>
<h3> 2.2.6. Utilitaires de conversion de lieu</h3>
<p><a name="mc_home2gps" id="mc_home2gps"><span style="font-weight: bold;">mc_home2gps</span> </a><a href="#home">Home</a>
: Retourne une liste de format GPS à partir d'une liste de type
Home.</p>
<p> <a name="mc_home2mpc" id="mc_home2mpc"><span style="font-weight: bold;">mc_home2mpc</span> </a><a href="#home">Home</a>
: Retourne une liste de format MPC à partir d'une liste de type
Home.<br />
</p>
<p><b><a name="mc_homecep">mc_homecep</a></b> <a href="mcusr_fr_new.htm#home">Home</a>
xp_arcsec yp_arcsec : Retourne une liste de format GPS à partir
d'une liste de type
Home qui est corrigé du pôle vrai (voir les <a href="http://www.iers.org/nn_11252/IERS/EN/DataProducts/EarthOrientationData/__Function/generischeTabelle__ID6.html">bulletins
IERS</a>).
</p>
<p>Exemple : </p>
<ul>
  <li style="font-weight: bold;"> <code>mc_home2gps {MPC 2.0375
0.72481 0.68867}</code> </li>
  <p>GPS 2.037500 E 43.727580 0.000000</p>
</ul>
<h3> 2.2.7. Utilitaires de correction de vitesse radiale</h3>
<p> <a name="mc_baryvel" id="mc_baryvel"><span style="font-weight: bold;">mc_baryvel</span> </a><a href="#date">Date</a>
<a href="#angle">Angle_Ra</a> <a href="#angle">Angle_Dec</a> <a href="#date">Equinox</a> ?<a href="#home">Home</a>? : Retourne la
correction barycentrique à apporter à la mesure de la
vitesse radiale d'un astre aux coordonnées Angle_Ra Angle_Dec
à l'équinoxe Equinox. La correction barycentrique
rapporte la vitesse radiale au barycentre du Système Solaire. La
correction de vitesse diurne est prise en compte si Home est
précisé.</p>
<p> <a name="mc_rvcor" id="mc_rvcor"><span style="font-weight: bold;">mc_rvcor</span>
</a><a href="#angle">Angles_RaDec</a>
<a href="#date">Equinox</a> reference : Retourne la correction à
apporter à la mesure de la vitesse radiale d'un astre aux
coordonnées Angles_RaDec à l'équinoxe Equinox,
pour les systèmes de référence suivants : </p>
<ul>
  <li> KLSR : Kinetic Local Standard of Rest (=Local Standard of Rest
conventionnel) basé sur la vitesse moyenne des étoiles du
voisinage solaire. Gordon (1975) "Computer Programs for Radio
Astronomy," by M.A.Gordon, page 281, in " Methods of Experimental
Physics: Volume 12: Astrophysics, Part C: Radio Observations", ed.
M.L.Meeks, Academic Press 1976.</li>
  <li> DLSR : Dynamical Local Standard of Rest. Vitesse
particulière du Soleil par rapport à un
référentiel en mouvement circulaire autour du centre
galactique. Delhaye (1965) pages 73-74, in "Stars and Stellar Systems,
Volume 5: Galactic Structure", ed. Blaauw and Schmidt, Univ. of Chicago
Press (1965).</li>
  <li> GALC : Galactocentric. Centre dynamique de la Galaxie. Kerr and
Lynden-Bell (1986) Mon.Not.Roy.Astron.Soc. vol.221, p.1023 (1986)</li>
  <li> LOG : Local Group. Mouvement moyen des galaxies du Groupe Local.
Yahil et al. 1977 Astrophys.J. vol.217, p.903, November 1, 1977.</li>
  <li> COSM : Cosmic Microwave Background. Anisotropie dipolaire des
mesures de COBE. Kogut et al. 1993 Astrophys.J. vol.419, p.1, December
10, 1993.</li>
</ul>
<b><a name="mc_cosmology_calculator">mc_cosmology_calculator</a></b>
redshift ?Hubble_constant_km/s/Mpc? ?Omega_matter? ?Omega_vecuum? :
Retourne une liste d'informations sur les grandeurs de théorie
cosmologique relatif à la valeur du redshift d'entrée.
Les termes Hubble_constant, Omega_matter et Omega_vecuum sont pris 71,
0.27 et 0.73 par défaut.
<h3>2.2.8. Utilitaires de cartographie de surfaces planétaires</h3>
<p><a name="mc_xy2lonlat" id="mc_xy2lonlat"><span style="font-weight: bold;">mc_xy2lonlat</span> lc bc P f xc yc req x y
?ls bs power? : retourne la longitude et la latitude
planétographique d'un point de coordonnées (x,y)
mesuré sur une image. Les paramètres d'entrée sont
définis comme suit :</a></p>
<ul>
  <li>lc : longitude du centre (Angle) &lt; LONGI&gt;</li>
  <li>bc : latitude du centre (Angle) &lt;LATI&gt;</li>
  <li>p : angle de position du pôle nord (Angle) &lt; POSNORTH&gt;</li>
  <li>f : 1-rapport des rayons polaire et équatoriaux de la
planète &lt; 1 - APPDIAMPOL / APPDIAMEQU&gt;</li>
  <li>xc : position X du centre de la planète sur l'image (pixel)</li>
  <li>yc : position Y du centre de la planète sur l'image (pixel)</li>
  <li>rc : rayon équatorial de la planète sur l'image
(pixel)</li>
  <li>x : position x sur l'image (pixels)</li>
  <li>y : position y sur l'image (pixels)</li>
  <li>ls : longitude du soleil en coordonnées
planétographiques (radian) [optional] &lt;LONGI_SUN&gt;</li>
  <li>bs : latitude du soleil en coordonnées
planétographiques (radian) [optional] &lt;LATI_SUN&gt;</li>
  <li>power : power of a cosinus law to predict berder extinction
[optional] (0.11 par défaut)</li>
</ul>
<p> Entre &lt;&gt;, sont indiquées les options de la fonction
mc_ephem qui permettent de calculer les valeurs correspondantes. En
sortie, on a une liste de trois éléments</p>
<ul>
  <li>lon : longitude planétographique correspondant à la
position (x,y) sur l'image (degrés)</li>
  <li>lat : latitude planétographique correspondant à la
position (x,y) sur l'image (degrés)</li>
  <li>visibility : assombrissement centre-bord (0 dans l'ombre
jusqu'à 1 pour les zones les plus brillantes et -1 si la
région est derrière la planète). La valeur de
visibilité est déterminée avec les
paramètres optionnels </li>
</ul>
<p><a name="mc_lonlat2xy" id="mc_lonlat2xy"><span style="font-weight: bold;">mc_lonlat2xy</span> lc bc P f xc yc req lon
lat ?ls bs power? : retourne coordonnées (x,y) mesuré sur
une image à partir de la longitude et la latitude
planétographique. Les paramètres d'entrée sont
définis comme suit :</a></p>
<ul>
  <li>lc : longitude du centre (Angle) &lt; LONGI&gt;</li>
  <li>bc : latitude du centre (Angle) &lt;LATI&gt;</li>
  <li>p : angle de position du pôle nord (Angle) &lt; POSNORTH&gt;</li>
  <li>f : 1-rapport des rayons polaire et équatoriaux de la
planète &lt; 1 - APPDIAMPOL / APPDIAMEQU&gt;</li>
  <li>xc : position X du centre de la planète sur l'image (pixel)</li>
  <li>yc : position Y du centre de la planète sur l'image (pixel)</li>
  <li>rc : rayon équatorial de la planète sur l'image
(pixel)</li>
  <li>lon : longitude planétographique (degrés)</li>
  <li>lat : latitude planétographique (degrés)</li>
  <li>ls : longitude du soleil en coordonnées
planétographiques (radian) [optional] &lt;LONGI_SUN&gt;</li>
  <li>bs : latitude du soleil en coordonnées
planétographiques (radian) [optional] &lt;LATI_SUN&gt;</li>
  <li>power : power of a cosinus law to predict berder extinction
[optional] (0.11 par défaut)</li>
</ul>
<p>Entre &lt;&gt;, sont indiquées les options de la fonction
mc_ephem qui permettent de calculer les valeurs correspondantes. En
sortie, on a une liste de trois éléments</p>
<ul>
  <li>x : position x sur l'image (pixels)</li>
  <li>y : position y sur l'image (pixels)</li>
  <li>visibility : assombrissement centre-bord (0 dans l'ombre
jusqu'à 1 pour les zones les plus brillantes et -1 si la
région est derrière la planète). La valeur de
visibilité est déterminée avec les
paramètres optionnels </li>
</ul>
<p>Exemple : on souhaite connaitre les coordonnées (lon,lat) du
point (x,y)=(117,146) sur une image de la planète Saturne. Sur
l'image, la planète est centrée au point (120,135) et a
un diamètre équatorial de 50 pixels. L'image a
été prise le 1 mars 2003 à 6h34min12s TT. La suite
de fonctions Tcl suivantes permettent de calculer (lon,lat) :</p>
<code> set res [lindex [mc_ephem saturn 2003-03-01T06:34:12 \<br />

{LONGI LATI LONGI_SUN LATI_SUN POSNORTH APPDIAMPOL APPDIAMEQU}] 0]<br />

set longi [lindex $res 0]<br />

set lati [lindex $res 1]<br />

set longi_sun [lindex $res 2]<br />

set lati_sun [lindex $res 3]<br />

set posnorth [lindex $res 4]<br />

set appdiampol [lindex $res 5]<br />

set appdiamequ [lindex $res 6]<br />

set f [expr 1.-$appdiampol/$appdiamequ]<br />

set power 0.1<br />

<br />

set x 117<br />

set y 146<br />

set res [mc_xy2lonlat $longi $lati $posnorth $f 120 135 50 $x $y
$longi_sun $lati_sun $power]<br />

set lon [lindex $res 0]<br />

set lat [lindex $res 1]<br />

</code>
</body></html>