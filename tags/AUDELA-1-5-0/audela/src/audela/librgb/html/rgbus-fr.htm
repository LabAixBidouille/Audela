<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.5 [fr] (Win98; I) [Netscape]">
   <meta name="Author" content="Alain Klotz">
   <title>LibRGB : Manuel d'utilisation</title>
<script language="javascript" src="style.js">
</script>
</head>
<body bgcolor="#FFFFFF">

<center>
<h1>
LibRGB</h1></center>

<center>
<h2>
Librairie d'extension Tcl pour la manipulation de fichiers d'images en
couleur</h2></center>

<center><b>Alain KLOTZ</b>
<br><b>version 20021115</b></center>

<h1>
1. Introduction</h1>
La librairie libRGB ajoute des fonctions de manipulation de fichiers et
de buffers d'images en couleurs &agrave; un interpr&eacute;teur Tcl utilisant
AudeLA. Le principe g&eacute;n&eacute;ral de libRGB est de s&eacute;parer
l'image d'un buffer en ses trois composantes rouge, vert, bleu (RGB) et
les afficher &agrave; l'&eacute;cran. Techniquement, les cam&eacute;ras
CCD couleurs fournissent une image dans le buffer dans lequel les pixels
correspondent &agrave; l'une des trois couleurs. En fonction de l'algorithme
de codage utilis&eacute; par le constructeur du composant CCD, on peut
rep&eacute;rer la couleur de chaque pixel et synth&eacute;tiser trois images
correspondant aux couleurs prises s&eacute;par&eacute;ment les unes des
autres.
<h1>
2. Manuel de l'utilisateur</h1>

<h3>
<a NAME="rgb_split"></a>rgb_split numbuf ?-buffer {Nobufr Nobufg Nobufb}?
?-rgb type?</h3>

<blockquote>S&eacute;pare les trois composantes RGB d'un buffer en trois
buffers.
<p>On peut pr&eacute;ciser le num&eacute;ro des trois buffers R, G et B
en les indiquant dans une liste associ&eacute;e &agrave; l'option -buffer.
Par d&eacute;faut, les buffers R, G et B ont pour num&eacute;ro respectif
1001, 1002 et 1003. Il n'est pas n&eacute;cessaire de cr&eacute;er les
buffers (::buf::create) avant la fonction rgb_split (elle les cr&eacute;e
elle m&ecirc;me).
<p>On peut sp&eacute;cifier le type d'algorithme de codage de la couleur
en pr&eacute;cisant le type de l'option -rgb. Les cam&eacute;ras couleurs
suivantes ont &eacute;t&eacute; identifi&eacute;es :
<ul>Kaf-0400C : -rgb cfa
<p>WebCam&nbsp; : -rgb bgr&nbsp; (test&eacute; uniquement sur Philips VestaPro)</ul>
</blockquote>

<h3>
<a NAME="rgb_visu"></a>rgb_visu {hicutr locutr} {hicutg locutg} {hicutb
locutb} ?-zoom valzoom? ?-window {x1 y1 x2 y2}? ?-buffer {Nobufr Nobufg
Nobufb}? ?-image Noimage?</h3>

<blockquote>Affiche une image couleur dans une zone de visualisation. La
liste {hicutr locutr} contient les valeurs num&eacute;riques du seuil haut
et du seuil bas de visualisation de l'image rouge. {hicutg locutg} {hicutb
locutb} ont les m&ecirc;mes r&ocirc;les mais pour les images verte et bleue
respectivement.
<p>L'option -zoom permet d'effectuer un affichage grossi (valzoom=1 par
d&eacute;faut). Les valeurs autoris&eacute;es sont 1, 2 et 4.
<p>L'option -window permet de n'afficher qu'une fen&ecirc;tre de l'image.
<p>L'option -buffer permet de pr&eacute;ciser le num&eacute;ro des trois
buffers R, G et B en les indiquant dans une liste associ&eacute;e. Par
d&eacute;faut, les buffers R, G et B ont pour num&eacute;ro respectif 1001,
1002 et 1003.
<p>L'option -image permet de pr&eacute;ciser le num&eacute;ro de l'image
sp&eacute;cifi&eacute;e par l'option "-image image" lors de la cr&eacute;ation
du widget image Tk.
<p><u>L'exemple ci dessous montre l'utilisation de la fonction rgb:</u>
<p><b><tt>#--- cr&eacute;e une fenetre</tt></b>
<br><b><tt>toplevel .testcolor</tt></b>
<br><b><tt>wm geometry .testcolor 768x512+0+0</tt></b>
<br><b><tt>wm title .testcolor "test pour images en couleur"</tt></b>
<p><b><tt>#--- cree le canevas pour l'image</tt></b>
<br><b><tt>canvas .testcolor.canvas -borderwidth 0 -relief flat -width
768 -height 512</tt></b>
<br><b><tt>pack .testcolor.canvas</tt></b>
<p><b><tt>#--- cree un widget image dans un canvas pour afficher l'objet
de visualisation</tt></b>
<br><b><tt>.testcolor.canvas create image 1 1 -image image1000 -anchor
nw -tag img1</tt></b>
<p><b><tt>#--- cree une zone de visualisation pour le buffer 1001, l'image
1000 (et on cr&eacute;e l'objet visu20)</tt></b>
<br><b><tt>::visu::create 1001 1000 20</tt></b>
<p><b><tt>#--- charge une image RGB</tt></b>
<br><b><tt>buf1 load m57</tt></b>
<br><b><tt>#--- s&eacute;pare l'image RGB du buffer 1 en trois buffers
51, 52 et 53 pour R, G et B</tt></b>
<br><b><tt>rgb_split 1 -buffer {51 52 53} -rgb bgr</tt></b>
<p><b><tt>#--- affiche l'image en couleur &agrave; partir des buffers 51,
52 et 53</tt></b>
<br><b><tt>reg_visu {300 0} {300 0} {300 0} -buffer {51 52 53} -image 1000</tt></b></blockquote>

<h3>
<a NAME="rgb_save"></a>rgb_save filename ?filenameg filenameb? ?-buffer
{Nobufr Nobufg Nobufb}?</h3>

<blockquote>Cette fonction permet d'enregistrer les trois buffers image
dans un seul fichier FITS. filename est le nom du fichier FITS qui contiendra
l'image couleur enregistr&eacute;e.
<p>L'option -buffer permet de pr&eacute;ciser le num&eacute;ro des trois
buffers R, G et B en les indiquant dans une liste associ&eacute;e. Par
d&eacute;faut, les buffers R, G et B ont pour num&eacute;ro respectif 1001,
1002 et 1003.
<p>Si on pr&eacute;cise trois noms de fichiers au lieu d'un seul (cas o&ugrave;
filenameg filenameb son utilis&eacute;s) alors l'image couleur sera enregistr&eacute;e
par trois fichiers FITS ind&eacute;pendants sur le disque.</blockquote>

<h3>
<a NAME="rgb_load"></a>rgb_load filename ?filenameg filenameb? ?-buffer
{Nobufr Nobufg Nobufb}?</h3>

<blockquote>Cette fonction permet de lire les trois buffers image enregistr&eacute;s
pr&eacute;alablement dans un seul fichier FITS. filename est le nom du
fichier FITS qui contient l'image couleur.
<p>L'option -buffer permet de pr&eacute;ciser le num&eacute;ro des trois
buffers R, G et B en les indiquant dans une liste associ&eacute;e. Par
d&eacute;faut, les buffers R, G et B ont pour num&eacute;ro respectif 1001,
1002 et 1003.
<p>Si on pr&eacute;cise trois noms de fichiers au lieu d'un seul (cas o&ugrave;
filenameg filenameb son utilis&eacute;s) alors l'image couleur sera charg&eacute;e
en m&eacute;moire &agrave; partir des trois fichiers FITS ind&eacute;pendants
sur le disque.
<p><!-- #BeginLibraryItem "/11/Library/MAJ%20AK.lbi" --><i><font size=-1>Cette
page est tenue &agrave; jour par Alain Klotz.</font></i><!-- #EndLibraryItem -->
  <p><!-- #BeginLibraryItem "/11/Library/Date%20MAJ.lbi" --><i><font size=-1>Derni&egrave;re
mise &agrave; jour le :&nbsp;<!-- #EndLibraryItem -->15/11/2002 
  <p><!-- #BeginLibraryItem "/12/Library/barre de nav du bas.lbi" -->
<div align="center">
  <table width="60%" border="0" cellspacing="0" cellpadding="0">
    <tr> 
      <td> <p align="center"><font face="Verdana, Arial, Helvetica, sans-serif" size="2"><a href="index.htm">Accueil</a> 
          | <a href="copi.htm">Copies d'&eacute;crans</a> | <a href="telecha.htm">T&eacute;l&eacute;charger</a> 
          | <a href="plan.php">Plan du site</a> | <a href="interfa.htm">Interface 
          standard</a> | <a href="theme.htm">Observations &agrave; th&egrave;mes</a> 
          | <a href="script.htm">Scripts</a> | <a href="extensio.htm">Extensions</a> 
          | <a href="faq.htm">FAQ</a> | <a href="quiveu.htm">Qui veut aider 
          ?</a> | <a href="liens.htm">Liens</a> | <a href="bug.php">Suivi 
          des bugs</a> | <a href="followup.php">Suivi des scripts</a></font></p><p align="center">&nbsp;</p></td></tr>
  </table></div><!-- #EndLibraryItem --><br>
  <!-- #BeginLibraryItem "/12/Library/Copyright.lbi" -->
<div align="center"><b><font size="1">Copyright &copy; AUDELA</font></b></div><!-- #EndLibraryItem --> 
</blockquote>

</body>
</html>
