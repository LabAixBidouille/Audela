<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>pwc-ioctl.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3-rc3 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>pwc-ioctl.h</h1><a href="pwc-ioctl_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="preprocessor">#ifndef PWC_IOCTL_H</span>
00002 <span class="preprocessor"></span><span class="preprocessor">#define PWC_IOCTL_H</span>
00003 <span class="preprocessor"></span>
00004 <span class="comment">/* (C) 2001-2002 Nemosoft Unv.    webcam@smcc.demon.nl</span>
00005 <span class="comment">   </span>
00006 <span class="comment">   This program is free software; you can redistribute it and/or modify</span>
00007 <span class="comment">   it under the terms of the GNU General Public License as published by</span>
00008 <span class="comment">   the Free Software Foundation; either version 2 of the License, or</span>
00009 <span class="comment">   (at your option) any later version.</span>
00010 <span class="comment"></span>
00011 <span class="comment">   This program is distributed in the hope that it will be useful,</span>
00012 <span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00013 <span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
00014 <span class="comment">   GNU General Public License for more details.</span>
00015 <span class="comment"></span>
00016 <span class="comment">   You should have received a copy of the GNU General Public License</span>
00017 <span class="comment">   along with this program; if not, write to the Free Software</span>
00018 <span class="comment">   Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span>
00019 <span class="comment">*/</span>
00020 
00021 <span class="comment">/*         This is pwc-ioctl.h belonging to PWC 8.7                        */</span>
00022 
00023 <span class="comment">/* </span>
00024 <span class="comment">   Changes</span>
00025 <span class="comment">   2001/08/03  Alvarado   Added ioctl constants to access methods for </span>
00026 <span class="comment">                          changing white balance and red/blue gains</span>
00027 <span class="comment"> */</span>
00028 
00029 <span class="comment">/* These are private ioctl() commands, specific for the Philips webcams.</span>
00030 <span class="comment">   They contain functions not found in other webcams, and settings not</span>
00031 <span class="comment">   specified in the Video4Linux API. </span>
00032 <span class="comment">   </span>
00033 <span class="comment">   The #define names are built up like follows:</span>
00034 <span class="comment">   VIDIOC               VIDeo IOCtl prefix</span>
00035 <span class="comment">         PWC            Philps WebCam</span>
00036 <span class="comment">            G           optional: Get</span>
00037 <span class="comment">            S           optional: Set</span>
00038 <span class="comment">             ...        the function</span>
00039 <span class="comment"> */</span>
00040 
00041 
00042 
00043 
00044 <span class="comment">/* The frame rate is encoded in the video_window.flags parameter using</span>
00045 <span class="comment">   the upper 16 bits, since some flags are defined nowadays. The following</span>
00046 <span class="comment">   defines provide a mask and shift to filter out this value.</span>
00047 <span class="comment">   </span>
00048 <span class="comment">   In 'Snapshot' mode the camera freezes its automatic exposure and colour </span>
00049 <span class="comment">   balance controls.</span>
00050 <span class="comment"> */</span>
<a name="l00051"></a><a class="code" href="pwc-ioctl_8h.html#a0">00051</a> <span class="preprocessor">#define PWC_FPS_SHIFT           16</span>
<a name="l00052"></a><a class="code" href="pwc-ioctl_8h.html#a1">00052</a> <span class="preprocessor"></span><span class="preprocessor">#define PWC_FPS_MASK            0x00FF0000</span>
<a name="l00053"></a><a class="code" href="pwc-ioctl_8h.html#a2">00053</a> <span class="preprocessor"></span><span class="preprocessor">#define PWC_FPS_FRMASK          0x003F0000</span>
<a name="l00054"></a><a class="code" href="pwc-ioctl_8h.html#a3">00054</a> <span class="preprocessor"></span><span class="preprocessor">#define PWC_FPS_SNAPSHOT        0x00400000</span>
00055 <span class="preprocessor"></span>
00056 
00057 
<a name="l00058"></a><a class="code" href="structpwc__probe.html">00058</a> <span class="keyword">struct </span><a class="code" href="structpwc__probe.html">pwc_probe</a>
00059 {
<a name="l00060"></a><a class="code" href="structpwc__probe.html#m0">00060</a>         <span class="keywordtype">char</span> <a class="code" href="structpwc__probe.html#m0">name</a>[32];
<a name="l00061"></a><a class="code" href="structpwc__probe.html#m1">00061</a>         <span class="keywordtype">int</span> <a class="code" href="structpwc__probe.html#m1">type</a>;
00062 };
00063 
00064 
00065 <span class="comment">/* pwc_whitebalance.mode values */</span>
<a name="l00066"></a><a class="code" href="pwc-ioctl_8h.html#a4">00066</a> <span class="preprocessor">#define PWC_WB_INDOOR           0</span>
<a name="l00067"></a><a class="code" href="pwc-ioctl_8h.html#a5">00067</a> <span class="preprocessor"></span><span class="preprocessor">#define PWC_WB_OUTDOOR          1</span>
<a name="l00068"></a><a class="code" href="pwc-ioctl_8h.html#a6">00068</a> <span class="preprocessor"></span><span class="preprocessor">#define PWC_WB_FL               2</span>
<a name="l00069"></a><a class="code" href="pwc-ioctl_8h.html#a7">00069</a> <span class="preprocessor"></span><span class="preprocessor">#define PWC_WB_MANUAL           3</span>
<a name="l00070"></a><a class="code" href="pwc-ioctl_8h.html#a8">00070</a> <span class="preprocessor"></span><span class="preprocessor">#define PWC_WB_AUTO             4</span>
00071 <span class="preprocessor"></span>
00072 <span class="comment">/* Used with VIDIOCPWC[SG]AWB (Auto White Balance). </span>
00073 <span class="comment">   Set mode to one of the PWC_WB_* values above.</span>
00074 <span class="comment">   *red and *blue are the respective gains of these colour components inside </span>
00075 <span class="comment">   the camera; range 0..65535</span>
00076 <span class="comment">   When 'mode' == PWC_WB_MANUAL, 'manual_red' and 'manual_blue' are set or read; </span>
00077 <span class="comment">   otherwise undefined.</span>
00078 <span class="comment">   'read_red' and 'read_blue' are read-only.</span>
00079 <span class="comment">*/</span>   
00080    
<a name="l00081"></a><a class="code" href="structpwc__whitebalance.html">00081</a> <span class="keyword">struct </span><a class="code" href="structpwc__whitebalance.html">pwc_whitebalance</a>
00082 {
<a name="l00083"></a><a class="code" href="structpwc__whitebalance.html#m0">00083</a>         <span class="keywordtype">int</span> <a class="code" href="structpwc__whitebalance.html#m0">mode</a>;
<a name="l00084"></a><a class="code" href="structpwc__whitebalance.html#m1">00084</a>         <span class="keywordtype">int</span> <a class="code" href="structpwc__whitebalance.html#m1">manual_red</a>, <a class="code" href="structpwc__whitebalance.html#m2">manual_blue</a>;    <span class="comment">/* R/W */</span>
<a name="l00085"></a><a class="code" href="structpwc__whitebalance.html#m3">00085</a>         <span class="keywordtype">int</span> <a class="code" href="structpwc__whitebalance.html#m3">read_red</a>, <a class="code" href="structpwc__whitebalance.html#m4">read_blue</a>;        <span class="comment">/* R/O */</span>
00086 };
00087 
00088 <span class="comment">/* </span>
00089 <span class="comment">   'control_speed' and 'control_delay' are used in automatic whitebalance mode,</span>
00090 <span class="comment">   and tell the camera how fast it should react to changes in lighting, and </span>
00091 <span class="comment">   with how much delay. Valid values are 0..65535.</span>
00092 <span class="comment">*/</span>
<a name="l00093"></a><a class="code" href="structpwc__wb__speed.html">00093</a> <span class="keyword">struct </span><a class="code" href="structpwc__wb__speed.html">pwc_wb_speed</a>
00094 {
<a name="l00095"></a><a class="code" href="structpwc__wb__speed.html#m0">00095</a>         <span class="keywordtype">int</span> <a class="code" href="structpwc__wb__speed.html#m0">control_speed</a>;
<a name="l00096"></a><a class="code" href="structpwc__wb__speed.html#m1">00096</a>         <span class="keywordtype">int</span> <a class="code" href="structpwc__wb__speed.html#m1">control_delay</a>;
00097 
00098 };
00099 
00100 <span class="comment">/* Used with VIDIOCPWC[SG]LED */</span>
<a name="l00101"></a><a class="code" href="structpwc__leds.html">00101</a> <span class="keyword">struct </span><a class="code" href="structpwc__leds.html">pwc_leds</a>
00102 {
<a name="l00103"></a><a class="code" href="structpwc__leds.html#m0">00103</a>         <span class="keywordtype">int</span> <a class="code" href="structpwc__leds.html#m0">led_on</a>;                     <span class="comment">/* Led on-time; range = 0..25000 */</span>
<a name="l00104"></a><a class="code" href="structpwc__leds.html#m1">00104</a>         <span class="keywordtype">int</span> <a class="code" href="structpwc__leds.html#m1">led_off</a>;                    <span class="comment">/* Led off-time; range = 0..25000  */</span>
00105 };
00106 
00107 
00108 
00109  <span class="comment">/* Restore user settings */</span>
<a name="l00110"></a><a class="code" href="pwc-ioctl_8h.html#a9">00110</a> <span class="preprocessor">#define VIDIOCPWCRUSER          _IO('v', 192)</span>
00111 <span class="preprocessor"></span> <span class="comment">/* Save user settings */</span>
<a name="l00112"></a><a class="code" href="pwc-ioctl_8h.html#a10">00112</a> <span class="preprocessor">#define VIDIOCPWCSUSER          _IO('v', 193)</span>
00113 <span class="preprocessor"></span> <span class="comment">/* Restore factory settings */</span>
<a name="l00114"></a><a class="code" href="pwc-ioctl_8h.html#a11">00114</a> <span class="preprocessor">#define VIDIOCPWCFACTORY        _IO('v', 194)</span>
00115 <span class="preprocessor"></span>
00116  <span class="comment">/* You can manipulate the compression factor. A compression preference of 0</span>
00117 <span class="comment">    means use uncompressed modes when available; 1 is low compression, 2 is</span>
00118 <span class="comment">    medium and 3 is high compression preferred. Of course, the higher the</span>
00119 <span class="comment">    compression, the lower the bandwidth used but more chance of artefacts</span>
00120 <span class="comment">    in the image. The driver automatically chooses a higher compression when</span>
00121 <span class="comment">    the preferred mode is not available.</span>
00122 <span class="comment">  */</span>
00123  <span class="comment">/* Set preferred compression quality (0 = uncompressed, 3 = highest compression) */</span>
<a name="l00124"></a><a class="code" href="pwc-ioctl_8h.html#a12">00124</a> <span class="preprocessor">#define VIDIOCPWCSCQUAL         _IOW('v', 195, int)</span>
00125 <span class="preprocessor"></span> <span class="comment">/* Get preferred compression quality */</span>
<a name="l00126"></a><a class="code" href="pwc-ioctl_8h.html#a13">00126</a> <span class="preprocessor">#define VIDIOCPWCGCQUAL         _IOR('v', 195, int)</span>
00127 <span class="preprocessor"></span>
00128 
00129  <span class="comment">/* This is a probe function; since so many devices are supported, it</span>
00130 <span class="comment">    becomes difficult to include all the names in programs that want to</span>
00131 <span class="comment">    check for the enhanced Philips stuff. So in stead, try this PROBE;</span>
00132 <span class="comment">    it returns a structure with the original name, and the corresponding </span>
00133 <span class="comment">    Philips type.</span>
00134 <span class="comment">    To use, fill the structure with zeroes, call PROBE and if that succeeds,</span>
00135 <span class="comment">    compare the name with that returned from VIDIOCGCAP; they should be the</span>
00136 <span class="comment">    same. If so, you can be assured it is a Philips (OEM) cam and the type</span>
00137 <span class="comment">    is valid.</span>
00138 <span class="comment"> */</span>    
<a name="l00139"></a><a class="code" href="pwc-ioctl_8h.html#a14">00139</a> <span class="preprocessor">#define VIDIOCPWCPROBE          _IOR('v', 199, struct pwc_probe)</span>
00140 <span class="preprocessor"></span>
00141  <span class="comment">/* Set AGC (Automatic Gain Control); int &lt; 0 = auto, 0..65535 = fixed */</span>
<a name="l00142"></a><a class="code" href="pwc-ioctl_8h.html#a15">00142</a> <span class="preprocessor">#define VIDIOCPWCSAGC           _IOW('v', 200, int)</span>
00143 <span class="preprocessor"></span> <span class="comment">/* Get AGC; int &lt; 0 = auto; &gt;= 0 = fixed, range 0..65535 */</span>
<a name="l00144"></a><a class="code" href="pwc-ioctl_8h.html#a16">00144</a> <span class="preprocessor">#define VIDIOCPWCGAGC           _IOR('v', 200, int)</span>
00145 <span class="preprocessor"></span> <span class="comment">/* Set shutter speed; int &lt; 0 = auto; &gt;= 0 = fixed, range 0..65535 */</span>
<a name="l00146"></a><a class="code" href="pwc-ioctl_8h.html#a17">00146</a> <span class="preprocessor">#define VIDIOCPWCSSHUTTER       _IOW('v', 201, int)</span>
00147 <span class="preprocessor"></span>
00148  <span class="comment">/* Color compensation (Auto White Balance) */</span>
<a name="l00149"></a><a class="code" href="pwc-ioctl_8h.html#a18">00149</a> <span class="preprocessor">#define VIDIOCPWCSAWB           _IOW('v', 202, struct pwc_whitebalance)</span>
<a name="l00150"></a><a class="code" href="pwc-ioctl_8h.html#a19">00150</a> <span class="preprocessor"></span><span class="preprocessor">#define VIDIOCPWCGAWB           _IOR('v', 202, struct pwc_whitebalance)</span>
00151 <span class="preprocessor"></span>
00152  <span class="comment">/* Auto WB speed */</span>
<a name="l00153"></a><a class="code" href="pwc-ioctl_8h.html#a20">00153</a> <span class="preprocessor">#define VIDIOCPWCSAWBSPEED      _IOW('v', 203, struct pwc_wb_speed)</span>
<a name="l00154"></a><a class="code" href="pwc-ioctl_8h.html#a21">00154</a> <span class="preprocessor"></span><span class="preprocessor">#define VIDIOCPWCGAWBSPEED      _IOR('v', 203, struct pwc_wb_speed)</span>
00155 <span class="preprocessor"></span>
00156  <span class="comment">/* LEDs on/off/blink; int range 0..65535 */</span>
<a name="l00157"></a><a class="code" href="pwc-ioctl_8h.html#a22">00157</a> <span class="preprocessor">#define VIDIOCPWCSLED           _IOW('v', 205, struct pwc_leds)</span>
<a name="l00158"></a><a class="code" href="pwc-ioctl_8h.html#a23">00158</a> <span class="preprocessor"></span><span class="preprocessor">#define VIDIOCPWCGLED           _IOR('v', 205, struct pwc_leds)</span>
00159 <span class="preprocessor"></span>
00160   <span class="comment">/* Contour (sharpness); int &lt; 0 = auto, 0..65536 = fixed */</span>
<a name="l00161"></a><a class="code" href="pwc-ioctl_8h.html#a24">00161</a> <span class="preprocessor">#define VIDIOCPWCSCONTOUR       _IOW('v', 206, int)</span>
<a name="l00162"></a><a class="code" href="pwc-ioctl_8h.html#a25">00162</a> <span class="preprocessor"></span><span class="preprocessor">#define VIDIOCPWCGCONTOUR       _IOR('v', 206, int)</span>
00163 <span class="preprocessor"></span>
00164   <span class="comment">/* Backlight compensation; 0 = off, otherwise on */</span>
<a name="l00165"></a><a class="code" href="pwc-ioctl_8h.html#a26">00165</a> <span class="preprocessor">#define VIDIOCPWCSBACKLIGHT     _IOW('v', 207, int)</span>
<a name="l00166"></a><a class="code" href="pwc-ioctl_8h.html#a27">00166</a> <span class="preprocessor"></span><span class="preprocessor">#define VIDIOCPWCGBACKLIGHT     _IOR('v', 207, int)</span>
00167 <span class="preprocessor"></span>
00168   <span class="comment">/* Flickerless mode; = 0 off, otherwise on */</span>
<a name="l00169"></a><a class="code" href="pwc-ioctl_8h.html#a28">00169</a> <span class="preprocessor">#define VIDIOCPWCSFLICKER       _IOW('v', 208, int)</span>
<a name="l00170"></a><a class="code" href="pwc-ioctl_8h.html#a29">00170</a> <span class="preprocessor"></span><span class="preprocessor">#define VIDIOCPWCGFLICKER       _IOR('v', 208, int)  </span>
00171 <span class="preprocessor"></span>
00172   <span class="comment">/* Dynamic noise reduction; 0 off, 3 = high noise reduction */</span>
<a name="l00173"></a><a class="code" href="pwc-ioctl_8h.html#a30">00173</a> <span class="preprocessor">#define VIDIOCPWCSDYNNOISE      _IOW('v', 209, int)</span>
<a name="l00174"></a><a class="code" href="pwc-ioctl_8h.html#a31">00174</a> <span class="preprocessor"></span><span class="preprocessor">#define VIDIOCPWCGDYNNOISE      _IOR('v', 209, int)</span>
00175 <span class="preprocessor"></span>
00176 <span class="preprocessor">#endif</span>
</pre></div><hr><address style="align: right;"><small>Generated on Sat May 10 19:15:45 2003 for libwebcam by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.3-rc3 </small></address>
</body>
</html>
