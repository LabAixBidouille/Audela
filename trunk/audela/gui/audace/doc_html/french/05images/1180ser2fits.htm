<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>





<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>Conversion SER -&gt; FITS</title></head><body>
<p class="date">Date de mise à jour : 30 décembre
2012</p>
<h1>Extraction et conversion du format SER vers FITS</h1>
<h2>1. Analyse</h2>
<p>AudeLA ne sait pas visualiser les vidéos au
format SER produites par certaines caméras (par exemple
Basler, iNova, Lumenera) et logiciels associés
(GENICAP-RECORD, Plxcapture, LUCAM-RECORDER) utilisées en
astronomie planétaire.<br />
Bien que limitées à 8 ou 12 bits, ces caméras sont
intéressantes dans la mesure où elles disposent de
réglages plus souples que les webcams, plus
particulièrement en matière de temps d'exposition, de
binning, d'AOI, d'horodatage, etc.</p>
<p>Merci à <b>Raoul Behrend</b> de l'Observatoire de
Genève pour son aide précieuse.</p>
<h2>2. Ce que fait cette fonction</h2>
<p>Elle permet d'extraire une image, quelques images ou toutes
les images en les convertissant au format FITS. Le format FITS
des images monochromes dépend de l'enregistrement : Les
enregistrements effectués en 8 bits sont convertis en images
8 bits et les autres en images 16 bits.<br />
De plus elle collecte les informations disponibles et les met en
forme pour compléter l'en-tête de l'image FITS comme
dans l'exemple ci-dessous :</p>
<p><img style="width: 636px; height: 385px;" alt="" src="images/ser2fits_header.gif" /></p>
<p>Les logiciels de capture des vidéos SER ne collectent ni
les mêmes informations ni sous le même encodage, par
exemple l'horodatage :</p>
<ul>
<li>de Plxcapture est un entier écrit en 64
bits,</li>
<li>celui de LUCAM-RECORDER est codé en 62 bits,</li>
<li>celui de GENICAP-RECORD ne figure pas dans le trailer de
l'image mais dans un fichier .txt produit simultanément et
contenant d'autres informations intéressantes (par exemple,
nom du télescope, diamètre, taille des pixels, binning,
temps d'exposition, heure de prise de vue, etc.). Si ce fichier
n'existe pas les mots clés sont réduits au
minimum.</li>
</ul>
<p>Il faut retenir que le contenu de l'en-tête varie en
fonction de la source :</p>
<ul>
<li>Le nom de l'observateur, du télescope, son
diamètre, la taille des pixels, le binning ne figurent dans
les mots clés que si l'information est disponible.</li>
<li>Un horodatage tel que <b>0001:01:03T00:00:00.000</b> ne
signifie pas que le propriétaire de la caméra a
voyagé dans le temps mais que l'incrément par rapport
au temps 0 (3 janvier de l'an 1 à 00h00h00s) de l'horodatage
est nul, en fait non spécifié.</li>
<li>Le temps d'exposition est approché par la
différence entre deux horodatages, donc il faut au moins
deux images.</li>
</ul>
<h2>3. L'interface</h2>
<table summary="">
<tbody>
<tr>
<td><img style="width: 417px; height: 221px;" alt="" src="images/ser2fits.gif" /></td>
<td style="padding-left: 1em;">Cette interface ne s'ouvre que si
le répertoire images contient des fichiers .SER, .Ser ou
.ser :
<ul>
<li>Un sélecteur de fichier SER contenu dans le
répertoire images. L'éventuel fichier .ser.txt
accompagnant le fichier .ser doit être dans le même
répertoire.</li>
<li>Un sélecteur de la première et de la dernière
image à convertir. Lors de la sélection d'un fichier,
la fenêtre de la dernière image indique le nombre
d'images contenues dans le fichier SER.</li>
<li>Un sélecteur de répertoire de destination : Un
bouton annexe permet de le modifier (il doit exister).<br /></li>
<li>La quatrième ligne permet de modifier le nom
générique des images de sorties (par défaut celui
du fichier SER). Les images produites ont un index identique au
rang de l'image dans le fichier initial.</li>
<li>3 ou 4 boutons pour les commandes habituelles.</li>
<li>Un changement de répertoire images provoque le
rafraîchissement de l'interface.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<h2>4. Temps d'extraction</h2>
<p>Pour une image en 8 bits, le temps d'extraction des
données dépend de la taille de l'image : Environ 3 ms
pour une image de 640 x 480 pixels et 7 ms pour une image de 1280
x 960 pixels. En mode 12 bits, ce temps sera plus long du fait de
la conversion du format littleEndian, spécifique au format
SER, en format bigEndian, spécifique au format FITS : 95 ms
pour pour une image de 640 x 480 pixels et 390 ms pour une image
de 1280 x 960 pixels. A ce temps d'extraction, il convient de
rajouter le délai nécessaire aux opérations telles
que l'écriture des mots clés.</p>
</body></html>